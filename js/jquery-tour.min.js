$(function(){function o(){$("#jquery-tour-controls").remove(),d>1?($("#nextstep").show(),$("#endtour").hide()):$("#endtour").show(),t()}function t(){return l++,e(),l==d?($("#nextstep").hide(),$("#endtour").show()):($("#nextstep").show(),$("#endtour").hide()),l>d?(r(),!1):void 0}function r(){l=0,a(),i(),n(),"function"==typeof jqueryTourConfig.endCallback&&jqueryTourConfig.endCallback()}function e(){a();var o=jqueryTourConfig.steps[l-1],t=$(o.element),r="undefined"==typeof o.bgcolor?"#222":o.bgolor,e="undefined"==typeof o.color?"white":o.bgolor,u="undefined"==typeof o.position?"TL":o.position,i=$("<div>",{id:"jquery-tour-tooltip","class":"jquery-tour-tooltip"}).css({display:"none","background-color":r,color:e}),s='<div class="tip-text">'+o.text+'</div><span class="jquery-tour-tooltip-arrow"></span>';s+='<div class="jquery-tour-nav"><span class="jquery-tour-button" id="nextstep" style="display:none;">Suivant »</span> ',s+='<span class="jquery-tour-button" id="endtour" style="display:none;">Terminer</span></div>',s+='<span class="jquery-tour-close" id="canceltour">&#215;</span>',i.html(s);var n={};$("body").prepend(i);var d=t.outerWidth(),p=t.outerHeight(),c=t.offset().left-15,y=t.offset().top;switch(u){case"TL":n={left:c+d/2,top:y+p+5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_TL");break;case"TR":n={left:c+d/2-i.width(),top:y+p+5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_TR");break;case"BL":n={left:c,top:y-i.height()-5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_BL");break;case"BR":n={left:c+d-i.width(),top:y-i.height()-5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_BR");break;case"LT":n={left:c+d,top:y},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_LT");break;case"LB":n={left:c+d,top:y+p-i.height()},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_LB");break;case"RT":n={left:c-i.width(),top:y},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_RT");break;case"RB":n={left:c-i.width(),top:y+p-i.height()},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_RB");break;case"T":n={left:c+d/2-i.width()/2,top:y+p+5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_T");break;case"R":n={left:c-i.width(),top:y+p/2-i.height()/2},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_R");break;case"B":n={left:c+d/2-i.width()/2,top:y-i.height()-5},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_B");break;case"L":n={left:c+d,top:y+p/2-i.height()/2},i.find("span.jquery-tour-tooltip-arrow").addClass("jquery-tour-tooltip-arrow_L")}"fixed"==t.css("position")&&alert("oops");var f=$(window).scrollTop(),j=$(window).scrollTop()+$(window).height(),q=parseFloat(n.top,10);q>y&&(q=y);var w=parseFloat(n.top,10)+i.height();y+p>w&&(w=y+p),f>q||q>j||f>w||w>j?$("html, body").stop().animate({scrollTop:q},500,"easeInOutExpo",function(){i.css(n).show()}):i.css(n).show()}function a(){$("#jquery-tour-tooltip").remove()}function u(){var o='<div id="jquery-tour-controls" class="jquery-tour-controls">';o+="<h2>"+p+"</h2>",o+='<div style="text-align: center;"><span class="jquery-tour-button" id="activatetour">Démarrer le tutoriel</span></div>',o+='<span class="jquery-tour-close" id="canceltour">&#215;</span>',o+="</div>",$("body").prepend(o),$("#jquery-tour-controls").animate({right:"30px"},500)}function i(){$("#tourcontrols").remove()}function s(){var o='<div id="jquery-tour-overlay" class="jquery-tour-overlay"></div>';$("body").prepend(o)}function n(){$("#jquery-tour-overlay").remove()}if("undefined"!=typeof jqueryTourConfig){var l=0,d=jqueryTourConfig.steps.length,p=jqueryTourConfig.title;u(),s(),$("html").keyup(function(e){if("undefined"==typeof tourDisabled)switch(e.keyCode){case 39:0==l?o():d>l?t():r();break;case 27:r()}return!0}),$("#activatetour").click(o),$(document).on("click","#endtour, #canceltour",r),$(document).on("click","#nextstep",t)}});